const { MessageEmbed } = require("../Ó„Ê€ÇŸÓ„É¨Õ¼ÊÊŸÇŸÉ®/src");
// ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
module.exports.run = async (client, message, args) => {
  try {
    const Channel = message.member.voice.channel;
    if (!Channel) {
      message.react(`âŒ`);
      message.channel.send("ğŸ“•: error+code RED message").catch(console.error);
      message.channel
        .send(
          new MessageEmbed()
            .setTimestamp()
            .setColor(`#b60000`)
            .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
            .setTitle(`âš ï¸\`\`\` á´¡á´€Ê€É´ÉªÉ´É¢! \`\`\` `)
            .setURL(`https://github.com/Krakinz`)
            .setThumbnail(`https://i.postimg.cc/9f0mS5NY/YouTify.png`)
            .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
            ).setDescription(`${message.author}
\`Error\`
**Not connected to any Voice Channel yet!  Please Join first**`)
        )
        .catch(console.error);
      return;
    }
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    const Queue = client.queue.get(message.guild.id);
    if (!Queue) {
      message.react(`âŒ`);
      message.channel.send("ğŸ“•: error+code RED message").catch(console.error);
      message.channel
        .send(
          new MessageEmbed()
            .setTimestamp()
            .setColor(`#b60000`)
            .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
            .setTitle(`âš ï¸\`\`\` á´¡á´€Ê€É´ÉªÉ´É¢! \`\`\` `)
            .setURL(`https://github.com/Krakinz`)
            .setThumbnail(`https://i.postimg.cc/9f0mS5NY/YouTify.png`)
            .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
            ).setDescription(`${message.author}
\`Error\`
**Nothing in Queue.\nPlease Add Some Songs By Using \` ?play \` or \` ?search \` Command!**`)
        )
        .catch(console.error);
      return;
    }
    let NewVolume = args[0];
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    if (!NewVolume) {
      message.react("âœ…");
      message.channel.send("ğŸ“—: ok+code GREEN message").catch(console.error);
      message.channel
        .send(
          new MessageEmbed()
            .setTimestamp()
            .setColor("#8DB600")
            .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
            .setTitle(`\`\`\`ğŸ”ŠVolume\`\`\` `)
            .setURL(`https://github.com/Krakinz`)
            .setThumbnail(`https://i.postimg.cc/9f0mS5NY/YouTify.png`)
            .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
            )
            .addField(
              `\`Queue Volume\``,
              `âš¡**Current Volume is set to ${Queue.Volume}**`,
              true
            )
            .setTimestamp()
        )
        .catch(console.error);
      return;
    }
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    if (isNaN(NewVolume) || parseInt(NewVolume) < 1) {
      message.react(`âŒ`);
      message.channel.send("ğŸ“•: error+code RED message").catch(console.error);
      message.channel
        .send(
          new MessageEmbed()
            .setTimestamp()
            .setColor(`#b60000`)
            .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
            .setTitle(`âš ï¸\`\`\` á´¡á´€Ê€É´ÉªÉ´É¢! \`\`\` `)
            .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
            )
            .addField(`\`Error\``, `**ğŸ”ˆInvalid Volume Provided!**`, true)
        )
        .catch(console.error);
      return;
    }
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    NewVolume = parseInt(NewVolume);
    if (NewVolume > 150) {
      message.react(`âŒ`);
      message.channel.send("ğŸ“•: error+code RED message").catch(console.error);
      message.channel
        .send(
          new MessageEmbed()
            .setTimestamp()
            .setColor(`#b60000`)
            .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
            .setTitle(`âš ï¸\`\`\` á´¡á´€Ê€É´ÉªÉ´É¢! \`\`\` `)
            .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
            )
            .addField(
              `\`Error\``,
              `**ğŸ”ˆVolume Limit is max set to *150* for no distortion.**`,
              true
            )
        )
        .catch(console.error);
      return;
    }
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    if (NewVolume == Queue.Volume) {
      message.react(`âŒ`);
      message.channel.send("ğŸ“•: error+code RED message").catch(console.error);
      message.channel
        .send(
          new MessageEmbed()
            .setTimestamp()
            .setColor(`#b60000`)
            .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
            .setTitle(`âš ï¸\`\`\` á´¡á´€Ê€É´ÉªÉ´É¢! \`\`\` `)
            .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
            )
            .addField(
              `\`Error\``,
              `**ğŸ”ˆQueue Volume is already at ${NewVolume}!**`,
              true
            )
        )
        .catch(console.error);
      return;
    }
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    Queue.Volume = NewVolume;
    Queue.Connection.dispatcher.setVolumeLogarithmic(Queue.Volume / 100);
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    message.react("âœ…");
    message.channel.send("ğŸ“—: ok+code GREEN message").catch(console.error);
    return message.channel.send(
      new MessageEmbed()
        .setColor("#8DB600")
        .setAuthor(
          "Volume",
          message.author.avatarURL({
            dynamic: true,
          })
        )
        .setDescription(
          "YouTify Volume Has Been Changed - " + Queue.Volume + "!"
        )
        .setTimestamp()
    );
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
  } catch (Êá´á´œá´›Éªêœ°Êá´‡Ê€Ê€á´Ê€) {
    message.client.channels.cache
      .get(`894958787792871475`)
      .send(
        new MessageEmbed()
          .setColor(`#b66c00`)
          .setTitle(`âš ï¸\`\`\` á´¡á´€Ê€É´ÉªÉ´É¢! \`\`\` `)
          .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
          .setImage(`https://i.postimg.cc/9f0mS5NY/YouTify.png`)
          .setThumbnail(`https://i.postimg.cc/9f0mS5NY/YouTify.png`)
          .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸", message.author.avatarURL({ dynamic: true })
          ).setDescription(`
**Dear ğŸ”±KRAKINZğŸ”± There has been an Error in a GUILD.**

**Error report:**
*${Êá´á´œá´›Éªêœ°Êá´‡Ê€Ê€á´Ê€}*`)
      )
      .catch(console.error);
    // ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
    message.channel.send("ğŸ“™: sorry+code ORANGE message").catch(console.error);
    message.react(`ğŸ˜”`);
    message.channel.send(
      new MessageEmbed()
        .setTimestamp()
        .setColor(`#b66c00`)
        .setAuthor(`ğŸYouTifyâ„¢ by KrakinzLabâ„¢ï¸`)
        .setFooter("ğŸ”°ğ—Ÿğ—¶ğ—°ğ—²ğ—»ğ˜€ğ—²: GNU(c)KrakinzLabâ„¢ï¸")
        .setThumbnail(`https://i.postimg.cc/9f0mS5NY/YouTify.png`)
        .setTitle(`\`\`\`ğŸYouTifyâ„¢ encountered an error.\`\`\``)
        .setDescription(`**\`Please repoğŸYouTifyâ„¢ - v5 - ÊÖ…ÊŠÈ¶É¨Ê„É¨ğŸÆˆÉ¨Ö…ÊŠÖ†rt to either\`**
ğŸ”°[In á´…Éªêœ±á´„á´Ê€á´… channel](https://discord.gg/y2PtYAJgpy)
ğŸ”°[In á´›á´‡ÊŸá´‡É¢Ê€á´€á´ group](https://t.me/Krakns)

**\`ErrorğŸ”»Caught\`**
${Êá´á´œá´›Éªêœ°Êá´‡Ê€Ê€á´Ê€}`)
    );
    console.error(Êá´á´œá´›Éªêœ°Êá´‡Ê€Ê€á´Ê€);
  }
};
// ====================================================â€”â€¢â€¢Ã·[ğŸYouTifyâ„¢]Ã·â€¢â€¢â€”====================================================
module.exports.help = {
  name: "volume",
  aliases: ["v", "vl", "vol"],
  cooldown: 7000,
  category: "YouTify",
  description: "View Or Change Currently Playing Song Volume!",
  usage: "Volume | <New Volume>",
  examples: ["volume", "volume 124", "volume 50", "volume 136"],
};
